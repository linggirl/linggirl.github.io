<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <style>
        html {
            height: 100%;
        }

        body {
            height: 100%;
            margin: 0;
        }

        #info {
            position: absolute;
        }

        #main {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        canvas {
            display: block;
        }
    </style>
    <script src="three.js"></script>
    <script src="MTLLoader.js"></script>
    <script src="OBJMTLLoader.js"></script>
    <script>
        "use strict";
        var viewWidth, viewHeight, scene, camera, renderer,plane
        function resize() {
            var ratio = 9 / 16;
            var winRatio = window.innerWidth / window.innerHeight;
            if (ratio < winRatio) {
                viewWidth = window.innerHeight * ratio;
                viewHeight = window.innerHeight;
            }
            else {
                viewWidth = window.innerWidth;
                viewHeight = window.innerWidth / ratio;
            }
            main.style.width = viewWidth + "px";
            main.style.height = viewHeight + "px";
        }
        function init() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(45, viewWidth / viewHeight, 1, 2000);
            camera.position.y = 400;
            camera.lookAt(scene.position);
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(viewWidth, viewHeight);
            main.appendChild(renderer.domElement);
            //var ambient = new THREE.AmbientLight(0x444444);
            //scene.add(ambient);
            var pointLight = new THREE.PointLight(0xffffff);
            pointLight.position.set(0, 300, 0);;
            scene.add(pointLight);
            var loader = new THREE.OBJMTLLoader();
            loader.load("f.obj", "f.mtl", function (object) {
                plane = object;
                scene.add(plane);
                info.innerHTML = "OK";
            });
        }
        function animate() {
            requestAnimationFrame(animate);
            plane.rotation.x += 0.08;
            renderer.render(scene, camera);
        }
        window.onload = function () {
            resize();
            init();
            animate();
            window.onresize = function () {
                resize();
                camera.aspect = viewWidth / viewHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(viewWidth, viewHeight);
            };
        };
    </script>
</head>
<body>
    <div id="info"></div>
    <div id="main"></div>
</body>
</html>